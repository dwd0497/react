(this["webpackJsonpphone-book"]=this["webpackJsonpphone-book"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),o=a(10),i=a.n(o),s=a(7),r=a(8),c=a(3),h=a(4),l=a(2),d=a(6),u=a(5),b=(a(16),a(0)),m=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.total;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{className:"phone-book__title",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u0441\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a"}),Object(b.jsxs)("p",{className:"phone-book__total",children:["\u0412\u0441\u0435\u0433\u043e ",e," \u0437\u0430\u043f\u0438\u0441\u0435\u0439"]})]})}}]),a}(n.Component),j=(a(18),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={searchValue:"",isValid:!0},n.onSearchChange=n.onSearchChange.bind(Object(l.a)(n)),n}return Object(h.a)(a,[{key:"onSearchChange",value:function(e){var t=e.target.value.toLowerCase(),a=e.target.checkValidity();this.setState({searchValue:t,isValid:a}),this.props.onSearchValueUpdate(t)}},{key:"render",value:function(){var e="phone-book__search";return this.state.isValid||(e+=" error"),Object(b.jsxs)("div",{className:e,children:[Object(b.jsx)("input",{className:"input phone-book__search-input",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430",type:"text",onChange:this.onSearchChange,pattern:"^[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451\\s]+$"}),Object(b.jsx)("span",{className:"error-message",children:"\u0414\u043b\u044f \u0432\u0432\u043e\u0434\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b"})]})}}]),a}(n.Component)),p=a(11),v=(a(19),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.phone,n=e.favorite,o=e.onTrashClick,i=e.onToggleFavorite,s=n?"phone-book__item favorite":"phone-book__item";return Object(b.jsxs)("div",{className:s,children:[Object(b.jsxs)("span",{className:"phone-book__item-name",children:["\u0424\u0418\u041e: ",t]}),Object(b.jsx)("span",{className:"phone-book__item-phone",children:a}),Object(b.jsx)("button",{className:"btn phone-book__item-btn-star",onClick:i,children:Object(b.jsx)("i",{className:"fa fa-star"})}),Object(b.jsx)("button",{className:"btn phone-book__item-btn-trash",onClick:o,children:Object(b.jsx)("i",{className:"fa fa-trash"})})]})}}]),a}(n.Component)),O=(a(20),function(e){var t=e.\u0441ontactList,a=e.onTrashClick,n=e.onToggleFavorite,o=t.map((function(e){var t=e.id,o=Object(p.a)(e,["id"]);return Object(b.jsx)("li",{children:Object(b.jsx)(v,Object(s.a)(Object(s.a)({},o),{},{onTrashClick:function(){return a(t)},onToggleFavorite:function(){n(t)}}))},t)}));return Object(b.jsx)("ul",{className:"phone-book__list",children:o})}),f=(a(21),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:"",phone:"",favorite:!1,isNameValid:!0,isPhoneValid:!0,isFormValid:!1},n.onNameChange=n.onNameChange.bind(Object(l.a)(n)),n.onPhoneChange=n.onPhoneChange.bind(Object(l.a)(n)),n.onFavoriteChange=n.onFavoriteChange.bind(Object(l.a)(n)),n.onSunbmitForm=n.onSunbmitForm.bind(Object(l.a)(n)),n}return Object(h.a)(a,[{key:"onNameChange",value:function(e){var t=!(0===e.target.value.length||!e.target.value.match(/^[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451\s]+$/)),a=!1;this.state.isPhoneValid&&t&&(a=!0),this.setState({name:e.target.value,isNameValid:t,isFormValid:a})}},{key:"onPhoneChange",value:function(e){var t=!(0===e.target.value.length||!e.target.value.match(/^\+7-9[0-9]{2}-\d{3}-\d{2}-\d{2}$/)),a=!1;this.state.isNameValid&&t&&(a=!0),this.setState({phone:e.target.value,isPhoneValid:t,isFormValid:a})}},{key:"onFavoriteChange",value:function(e){this.setState({favorite:e.target.checked})}},{key:"onSunbmitForm",value:function(e){e.preventDefault(),this.props.addNewItem({name:this.state.name,phone:this.state.phone,favorite:this.state.favorite}),this.setState({name:"",phone:"",favorite:!1})}},{key:"render",value:function(){var e="phone-book__add-new-item-group";this.state.isNameValid||(e+=" error");var t="phone-book__add-new-item-group";this.state.isPhoneValid||(t+=" error");var a="btn phone-book__add-new-item-btn";return this.state.isFormValid||(a+=" disabled"),Object(b.jsxs)("form",{className:"phone-book__add-new-item",onSubmit:this.onSunbmitForm,children:[Object(b.jsxs)("label",{className:e,children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0424\u0418\u041e",Object(b.jsx)("input",{className:"input phone-book__add-new-item-name",type:"text",onChange:this.onNameChange,value:this.state.name,required:!0,pattern:"^[A-Za-z\u0410-\u042f\u0430-\u044f\u0401\u0451\\s]+$",name:"name"}),Object(b.jsx)("span",{className:"error-message",children:"\u0414\u043b\u044f \u0432\u0432\u043e\u0434\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0431\u0443\u043a\u0432\u044b"})]}),Object(b.jsxs)("label",{className:t,children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440",Object(b.jsx)("input",{className:"input phone-book__add-new-item-phone",type:"text",onChange:this.onPhoneChange,value:this.state.phone,required:!0,pattern:"\\+7-9[0-9]{2}-\\d{3}-\\d{2}-\\d{2}",name:"phone"}),Object(b.jsx)("span",{className:"error-message",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 +7-9XX-XXX-XX-XX"})]}),Object(b.jsxs)("p",{className:"phone-book__add-new-item-group phone-book__add-new-item-group_checkbox",children:[Object(b.jsx)("input",{className:"input phone-book__add-new-item-favotite visually-hidden",id:"phone-book__add-new-item-favotite",type:"checkbox",onChange:this.onFavoriteChange,checked:this.state.favorite}),Object(b.jsx)("label",{htmlFor:"phone-book__add-new-item-favotite",children:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u043a\u0430\u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0439"})]}),Object(b.jsx)("button",{type:"submit",className:a,disabled:!this.state.isFormValid,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})}}]),a}(n.Component)),g=(a(22),function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={data:[{name:"\u0422\u043e\u0440",phone:"+7",favorite:!0,id:1},{name:"\u0425\u0430\u043b\u043a",phone:"+7-985-358-50-99",id:2},{name:"\u0422\u043e\u043d\u0438 \u0421\u0442\u0430\u0440\u043a",phone:"+7-777-777-77-77",id:3},{name:"\u0427\u0435\u0440\u043d\u0430\u044f \u0412\u0434\u043e\u0432\u0430",phone:"+7-555-555-55-55",favorite:!0,id:4},{name:"\u0412\u0430\u043d\u0434\u0430 \u041c\u0430\u043a\u0441\u0438\u043c\u043e\u0444\u0444",phone:"+7-666-666-66-66",id:5}],searchValue:""},n.initialIndex=5,n.onTrashClick=n.onTrashClick.bind(Object(l.a)(n)),n.addNewItem=n.addNewItem.bind(Object(l.a)(n)),n.onToggleFavorite=n.onToggleFavorite.bind(Object(l.a)(n)),n.onSearchValueUpdate=n.onSearchValueUpdate.bind(Object(l.a)(n)),n}return Object(h.a)(a,[{key:"onTrashClick",value:function(e){this.setState((function(t){var a=t.data,n=a.findIndex((function(t){return t.id===e}));return{data:[].concat(Object(r.a)(a.slice(0,n)),Object(r.a)(a.slice(n+1)))}}))}},{key:"onToggleFavorite",value:function(e){this.setState((function(t){var a=t.data,n=a.findIndex((function(t){return t.id===e})),o=Object(s.a)(Object(s.a)({},a[n]),{},{favorite:!a[n].favorite});return{data:[].concat(Object(r.a)(a.slice(0,n)),[o],Object(r.a)(a.slice(n+1)))}}))}},{key:"addNewItem",value:function(e){var t=e.name,a=e.phone,n=e.favorite,o={name:t,phone:a,favorite:n,id:++this.initialIndex};this.state.data.some((function(e){return t.toLowerCase()===e.name.toLowerCase()||a===e.phone}))?alert("\u0414\u0443\u0431\u043b\u0438 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u044b"):this.setState((function(e){var t=e.data;return{data:[].concat(Object(r.a)(t),[o])}}))}},{key:"searchItem",value:function(e,t){return 0===t.length?e:e.filter((function(e){return e.name.toLowerCase().indexOf(t)>-1}))}},{key:"onSearchValueUpdate",value:function(e){this.setState({searchValue:e})}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.searchValue,n=this.searchItem(t,a);return Object(b.jsxs)("div",{className:"phone-book",children:[Object(b.jsx)(m,{total:this.state.data.length}),Object(b.jsx)(j,{onSearchValueUpdate:this.onSearchValueUpdate}),Object(b.jsx)(O,{"\u0441ontactList":n,onTrashClick:this.onTrashClick,onToggleFavorite:this.onToggleFavorite}),Object(b.jsx)(f,{addNewItem:this.addNewItem})]})}}]),a}(n.Component));i.a.render(Object(b.jsx)(g,{}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.31120d4b.chunk.js.map